# Варианты интеграции Content Agent

## Обзор

Content Agent можно интегрировать в платформу несколькими способами в зависимости от целевой аудитории и сценариев использования.

## Вариант 1: Отдельная страница для генерации контента (Рекомендуется)

**Целевая аудитория:** Маркетологи, контент-менеджеры, администраторы

**Описание:** Специализированный интерфейс с формой для настройки параметров генерации контента.

### Преимущества:
- ✅ Четкий фокус на задаче генерации контента
- ✅ Все параметры видны сразу
- ✅ История сгенерированного контента
- ✅ Возможность копирования и экспорта
- ✅ Предпросмотр для разных каналов

### Структура:
```
/content-generator
  ├── Форма параметров (persona, cjm_stage, channel, goal)
  ├── История генераций
  ├── Предпросмотр контента
  └── Действия (копировать, экспорт, сохранить)
```

### Пример использования:
1. Маркетолог открывает страницу `/content-generator`
2. Заполняет форму: персона, этап CJM, канал, цель
3. Нажимает "Сгенерировать"
4. Получает контент, может скопировать или экспортировать

---

## Вариант 2: Интеграция в существующий чат

**Целевая аудитория:** Пользователи, которые хотят получить контент в диалоге

**Описание:** Добавить режим "Content Agent" в существующий ChatInterface с переключателем между Stylist и Content Agent.

### Преимущества:
- ✅ Единый интерфейс для всех агентов
- ✅ Естественный диалог для генерации контента
- ✅ Можно комбинировать запросы

### Структура:
```
ChatInterface
  ├── Переключатель режимов (Stylist / Content Agent)
  ├── Разные Quick Actions для каждого режима
  └── Разные форматы ответов
```

### Пример использования:
1. Пользователь переключается на режим "Content Agent"
2. Пишет: "Нужен контент для Instagram про новую коллекцию"
3. Content Agent генерирует контент в формате диалога

---

## Вариант 3: Админ-панель с расширенными функциями

**Целевая аудитория:** Администраторы, маркетологи

**Описание:** Полноценная админ-панель с управлением контентом, шаблонами, A/B тестированием.

### Преимущества:
- ✅ Управление шаблонами контента
- ✅ A/B тестирование вариантов
- ✅ Аналитика эффективности контента
- ✅ Массовая генерация контента
- ✅ Интеграция с CMS

### Функции:
- Генерация контента
- Шаблоны для разных каналов
- История и версионирование
- Метрики эффективности
- Экспорт в различные форматы

---

## Вариант 4: API интеграция для автоматизации

**Целевая аудитория:** Разработчики, автоматизированные системы

**Описание:** Использование API напрямую для интеграции в другие системы (CMS, email-рассылки, соцсети).

### Преимущества:
- ✅ Автоматизация генерации контента
- ✅ Интеграция с внешними системами
- ✅ Планирование генерации контента
- ✅ Webhook для уведомлений

### Примеры интеграции:
- Автоматическая генерация постов для Instagram
- Email-рассылки с персонализированным контентом
- Обновление контента на сайте по расписанию
- Генерация контента для рекламных кампаний

---

## Рекомендуемый подход: Комбинированный

### Этап 1: Отдельная страница (MVP)
Создать простую страницу `/content-generator` с формой и результатом.

### Этап 2: Расширение функционала
- История генераций
- Шаблоны
- Экспорт

### Этап 3: Интеграция в чат
Добавить режим Content Agent в ChatInterface для пользователей.

### Этап 4: Админ-панель
Создать полноценную админ-панель с расширенными функциями.

---

## Технические детали

### API Endpoint
```
POST /api/content/generate
```

### Request Body
```typescript
{
  persona?: string;
  cjm_stage?: string;  // awareness, consideration, purchase, retention
  channel?: string;     // website_main, instagram, email, etc.
  goal?: string;
}
```

### Response
```typescript
{
  content: string;
  persona?: string;
  cjm_stage?: string;
}
```

---

## Примеры UI компонентов

### 1. Форма генерации контента
```typescript
// ContentGeneratorForm.tsx
- Поле "Персона" (textarea)
- Выбор "Этап CJM" (dropdown)
- Выбор "Канал" (dropdown)
- Поле "Цель" (textarea)
- Кнопка "Сгенерировать"
```

### 2. Отображение результата
```typescript
// ContentResult.tsx
- Сгенерированный контент (textarea с возможностью редактирования)
- Кнопка "Копировать"
- Кнопка "Экспорт" (JSON, TXT, HTML)
- Кнопка "Сохранить в историю"
```

### 3. История генераций
```typescript
// ContentHistory.tsx
- Список предыдущих генераций
- Фильтры (по каналу, дате, персоне)
- Поиск
- Возможность переиспользования
```

---

## Следующие шаги

1. ✅ Создать страницу `/content-generator`
2. ✅ Добавить API метод в `lib/api.ts`
3. ✅ Создать компонент формы
4. ✅ Создать компонент результата
5. ✅ Добавить историю генераций (localStorage)
6. ✅ Добавить экспорт контента (TXT, JSON)
7. ✅ Добавить копирование в буфер обмена
8. ⏳ Интегрировать в чат (опционально)
9. ⏳ Создать админ-панель (будущее)

## Реализовано

### ✅ Страница Content Generator
- **URL:** `/content-generator`
- **Компонент:** `frontend/src/components/content/ContentGenerator.tsx`
- **Страница:** `frontend/src/app/content-generator/page.tsx`

### ✅ Функционал
- Форма с параметрами генерации (персона, CJM этап, канал, цель)
- Быстрые шаблоны для персон и целей
- Генерация контента через API
- Отображение результата с возможностью редактирования
- Копирование в буфер обмена
- Экспорт в TXT и JSON форматах
- История генераций (последние 10, сохранение в localStorage)

### ✅ API интеграция
- Метод `api.generateContent()` в `frontend/src/lib/api.ts`
- Интерфейсы `ContentGenerateRequest` и `ContentResponse`

## Как использовать

1. **Запустите frontend:**
   ```bash
   cd frontend
   npm run dev
   ```

2. **Откройте страницу:**
   ```
   http://localhost:3000/content-generator
   ```

3. **Заполните форму:**
   - Выберите канал (обязательно)
   - Опционально: укажите персону, этап CJM, цель
   - Используйте быстрые шаблоны для заполнения

4. **Сгенерируйте контент:**
   - Нажмите "Сгенерировать контент"
   - Дождитесь результата

5. **Используйте результат:**
   - Скопируйте в буфер обмена
   - Экспортируйте в файл (TXT или JSON)
   - Просмотрите историю генераций
